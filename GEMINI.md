# Gemini 코드 어시스턴트 컨텍스트

이 문서는 Gemini 코드 어시스턴트를 위한 "Python Judge" 프로젝트의 포괄적인 개요를 제공합니다. 이 내용은 레포지토리에 있는 상세 기획 및 설계 문서를 기반으로 작성되었습니다.

## 반드시 지켜야할 것

- 모든 입출력은 한국어로 할 것
- 오버 엔지니어링 금지

## 프로젝트 개요

**Python Judge**는 교육 환경에서 Python 알고리즘 코딩 테스트를 수행하고 자동으로 채점하기 위해 설계된 웹 기반 플랫폼입니다. 학생들이 코드를 제출하고 즉각적인 피드백을 받을 수 있는 환경을 제공하며, 관리자는 문제, 교육 세션, 학생 성과 등을 관리할 수 있습니다.

이 프로젝트는 현재 **기획 단계**에 있습니다. 레포지토리에는 광범위한 문서가 포함되어 있지만 아직 구현 코드는 없습니다.

### 기술 스택

- **백엔드**: **Node.js**와 **Express.js**. RESTful API를 제공합니다.
- **프론트엔드**: **React**와 **Tailwind CSS**.
- **데이터베이스**: **PostgreSQL**, **Supabase**에서 호스팅될 예정입니다. 전체 스키마는 `database/schmea.sql`에서 확인할 수 있습니다.
- **채점 엔진**: 핵심 구성 요소는 `subprocess`를 사용하여 학생 코드를 안전하게 실행하는 **Python 스크립트**입니다. `ast`를 이용한 정적 분석과 `psutil`을 이용한 리소스 모니터링을 수행합니다.
- **배포**: 전체 애플리케이션(프론트엔드 및 백엔드 API)은 **Vercel**에 배포되도록 설계되었습니다.
- **CI/CD**: **GitHub Actions**가 지속적인 통합 및 배포를 위해 계획되어 있습니다.

### 아키텍처

- **스타일**: 프로젝트는 **모듈형 모놀리스(Modular Monolith)** 아키텍처를 따릅니다. 백엔드는 단일 애플리케이션이지만 논리적으로 모듈(예: `users`, `problems`, `submissions`)로 나뉩니다.
- **패턴**: 전형적인 **3-Tier 아키텍처**(React 프론트엔드 -> Node.js API -> PostgreSQL DB)입니다.
- **상태 및 인증**: API는 **stateless(무상태)**이며, 인증을 위해 **JWT(JSON Web Tokens)**를 사용합니다.
- **보안**: 보안이 주요 관심사입니다. 설계에는 코드 실행을 위한 다층 방어 체계가 포함됩니다:
  1.  **AST 정적 분석**: 실행 전 금지된 모듈(`os`, `socket` 등) 및 함수(`eval`, `exec`)를 탐지합니다.
  2.  **프로세스 격리**: 학생 코드는 `subprocess`를 사용하여 별도의 격리된 프로세스에서 실행됩니다.
  3.  **리소스 제한**: 실행 중 엄격한 시간 및 메모리 제한이 적용됩니다.

## 빌드 및 실행

_TODO: 이 명령어들은 기술 스택을 기반으로 추론되었습니다. 프로젝트의 `package.json` 파일이 생성되면 확인해야 합니다._

프로젝트는 모노레포 또는 `frontend`와 `backend` 두 개의 별도 디렉토리로 구성될 가능성이 높습니다.

### 백엔드 (Node.js / Express)

1.  **백엔드 디렉토리로 이동:**
    ```sh
    cd backend
    ```
2.  **의존성 설치:**
    ```sh
    npm install
    ```
3.  **환경 변수 설정:**
    `docs/3-project-structure-design-principles.md`의 환경 변수 목록을 기반으로 `.env` 파일을 생성합니다. 여기에는 Supabase의 `DATABASE_URL`과 `JWT_SECRET`이 포함됩니다.

4.  **데이터베이스 스키마 실행:**
    `database/schmea.sql`의 스키마를 Supabase PostgreSQL 인스턴스에 적용해야 합니다. 이는 일반적으로 Supabase 대시보드의 SQL 편집기를 통해 수행됩니다.

5.  **개발 서버 실행:**
    ```sh
    npm run dev
    ```
    API는 `swagger/swagger.json`에 명시된 대로 `http://localhost:3000/api`에서 사용 가능해야 합니다.

### 프론트엔드 (React)

1.  **프론트엔드 디렉토리로 이동:**
    ```sh
    cd frontend
    ```
2.  **의존성 설치:**
    ```sh
    npm install
    ```
3.  **개발 서버 실행:**
    ```sh
    npm start
    ```
    React 애플리케이션은 다른 포트(예: `3001`)에서 실행되며 API 요청을 백엔드로 프록시합니다.

## 개발 컨벤션

프로젝트는 `docs/3-project-structure-design-principles.md`에 요약된 상세한 개발 컨벤션을 가지고 있습니다.

### 코드 스타일

- **포맷팅**: **Prettier**를 사용하여 코드를 자동으로 포맷합니다.
- **린팅**: **ESLint**를 사용하여 코드 품질 규칙을 강제합니다.
- **Git 훅**: **Husky**와 **lint-staged**를 사용하여 커밋 시 자동으로 린트 및 포맷을 수행합니다.

### 테스팅

- **전략**: 테스트 피라미드 접근 방식이 계획되어 있습니다:
  - **단위 테스트 (Jest)**: 개별 함수 및 컴포넌트용.
  - **통합 테스트 (Jest + Supertest)**: API 엔드포인트와 데이터베이스와의 상호작용 테스트용.
  - **E2E 테스트 (Playwright/Cypress)**: 핵심 사용자 플로우용.
- **우선순위**: 테스트의 최우선 순위는 핵심 채점 엔진 및 보안 관련 로직입니다.

### API

전체 API는 OpenAPI 3.0 파일 `swagger/swagger.json`에 명시되어 있습니다. 이는 모든 API 엔드포인트, 요청/응답 스키마 및 유효성 검사 규칙의 기준이 되어야 합니다.

### 데이터베이스

- 모든 스키마 변경은 **마이그레이션 파일**을 통해 관리해야 합니다.
- 완전한 초기 스키마는 `database/schmea.sql`에 정의되어 있습니다.